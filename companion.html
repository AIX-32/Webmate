<!DOCTYPE html>
<html>
<head>
  <title>Miku</title>
  <link rel="icon" href="./img/favicon.ico">
  <style>
    html, body {
      margin: 0;
      background: linear-gradient(to bottom, #a7e2e0, #dbfff5);
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    img {
  width: 200px; 
  height: 200px;
  image-rendering: pixelated;
  margin-left: 30px;
  margin-right: 30px;
  cursor: pointer;
  object-fit: cover; 
}

  </style>
</head>
<body>
  <img id="pet" src="./img/Miku.gif" alt="pet">

  <script>
    const pet = document.getElementById("pet");
    const idleGif = "./img/Miku.gif";
    const shakeGif = "./img/Shake.gif";
    const petGif = "./img/pet.gif";

    let lastX = window.screenX;
    let lastY = window.screenY;
    let cooldown = false;

    window.resizeTo(200, 300);
    window.moveTo(100, window.screen.availHeight - 100 - window.outerHeight);

    setInterval(() => {
      const dx = window.screenX - lastX;
      const dy = window.screenY - lastY;

      const speed = Math.abs(dx) + Math.abs(dy);

      lastX = window.screenX;
      lastY = window.screenY;

      if (speed > 10 && !cooldown) {
        cooldown = true;
        pet.src = shakeGif;
        setTimeout(() => {
          pet.src = idleGif;
          cooldown = false;
        }, 300);
      }
    }, 100);

    pet.addEventListener("click", () => {
      pet.src = petGif;
      setTimeout(() => {
        pet.src = idleGif;
      }, 3000); 
    });
  </script>
</body>
</html>
